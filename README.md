# ArgoCD

## Описание проекта

Этот репозиторий предназначен для управления инфраструктурой и приложениями в Kubernetes с использованием **ArgoCD** и **Terraform**. Он включает в себя два основных компонента:

1. **`demo/`** — примеры использования ArgoCD для управления приложениями.
2. **`argocd-terraform/`** — конфигурации Terraform для автоматизации развертывания ArgoCD и связанных ресурсов.

---

## Структура репозитория

### `demo/`

Папка `demo` содержит примеры манифестов и Helm-чартов для управления приложениями через ArgoCD. Основные элементы:

- **`AppOfApp/`**: Манифесты для управления приложениями через подход "Application of Applications".
  - **`root.yaml`**: Корневое приложение ArgoCD, управляющее другими приложениями.
  - **`applications/`**: Подпапка с манифестами отдельных приложений.
- **`HelmCharts/`**: Helm-чарты для развертывания приложений.
  - Примеры шаблонов для Deployment, Service, Ingress и других ресурсов Kubernetes.

### `argocd-terraform/`

Папка `argocd-terraform` содержит Terraform-конфигурации для автоматизации развертывания ArgoCD и связанных ресурсов. Основные элементы:
- **`deploy_argocd.tf`** — основной файл для развертывания ArgoCD и корневого приложения.
- **`terraform_argocd_minikube`** — модуль для установки ArgoCD в Minikube.
- **`terraform_argocd_root_minikube`** — модуль для настройки корневого приложения.

---

## Как использовать

1. **Развертывание ArgoCD с помощью Terraform**:
   - Перейдите в папку `argocd-terraform`.
   - Настройте переменные в файле `deploy_argocd.tf`.
   - Выполните команды:
     ```bash
     terraform init
     terraform apply
     ```

2. **Управление приложениями с помощью ArgoCD**:
   - Перейдите в папку `demo`.
   - Настройте манифесты в папке `AppOfApp/` и Helm-чарты в папке 
   - Выполните команды:
     ```bash
     terraform apply
     ```
---

## Требования

- Kubernetes-кластер **Minikube**.
- Установленный **kubectl**.
- Установленный **Terraform**.
- Установленный **Helm**.
